<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Wavexa - Result</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="./assets/css/reset.css" />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/animation.css" />
    <link rel="stylesheet" href="./assets/css/result.css" />
    <link rel="stylesheet" href="./assets/css/loader.css" />
  </head>

  <body>
    <!-- From Uiverse.io by anshi_8122 -->
    <div class="loader">
      <div class="loader-container">
        <div class="jellyfish">
          <div class="jellyfish-head"></div>
          <div class="tentacles">
            <div class="tentacle"></div>
            <div class="tentacle"></div>
            <div class="tentacle"></div>
            <div class="tentacle"></div>
            <div class="tentacle"></div>
          </div>
        </div>

        <div class="bubbles">
          <div class="bubble"></div>
          <div class="bubble"></div>
          <div class="bubble"></div>
          <div class="bubble"></div>
          <div class="bubble"></div>
          <div class="bubble"></div>
        </div>
      </div>
    </div>

    <div class="page">
      <header>
        <!-- place navbar here -->
        <img
          src="./assets/images/logo.png"
          alt=""
          class="logo"
          onclick="location.href=`./gallery.html`"
        />
        <nav role="navigation" aria-label="Menu điều hướng chính">
          <a href="#!" id="random-quiz-a" class="active" title="random quiz"
            ><i class="bi bi-tsunami"></i
          ></a>
          <a href="./gallery.html" id="menu-a" aria-current="page" title="menu"
            ><i class="bi bi-houses"></i
          ></a>
          <!-- <a href="#!" id="quiz-a">quiz</a> -->
        </nav>
        <button
          class="btn-copy dropdown-btn reg-btn"
          type="button"
          title="avatar reg-popup"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"
            />
          </svg>
        </button>
        <div class="dropdown-menu" id="dropdown">
          <a href="./login.html">Login</a>
          <a href="./signup.html">Signup</a>
        </div>
      </header>
      <main>
        <div class="title-container">
          <h2 class="title animation animate__animated">
            You've completed this quiz <span class="correct-rating"></span>!
          </h2>
          <script>
            // chuyển đổi animation

            const title = document.querySelector(".title");

            const summary_section = document.querySelector(
              "section.summary-section"
            );

            setInterval(() => {
              title.classList.toggle("animation");
              title.classList.toggle("reverse-animation");
            }, 5000);
          </script>
          <script>
            const correctRating = document.querySelector(".correct-rating");
            const score = parseInt(sessionStorage.getItem("final_score"));
            if (score == 0) {
              correctRating.innerHTML = "unluckily";
            } else if (score > 0 && score < 100) {
              correctRating.innerHTML = "your best";
            } else if (score == 100) {
              correctRating.innerHTML = "perfectly";
            } else correctRating.innerHTML = "";
          </script>

          <a href="#summary-sect">See what I've done</a>
        </div>

        <section class="summary-section" id="summary-sect">
          <div class="summary animate__animated animate__zoomInDown">
            <span class="score-text">Your score is: </span>

            <span class="category-text">Category: </span>
            <span class="diff-text">Difficulty: </span>
          </div>

          <div class="btn-container">
            <button type="button" class="save-score">Save Score</button>
            <button
              class="restart-quiz"
              type="button"
              onclick="window.location.href='./form.html'"
            >
              Restart Quiz
            </button>
            <button
              class="view-leaderboard"
              type="button"
              onclick="document.querySelector('.leaderboard-container').classList.toggle('hidden')"
            >
              View Leaderboard
            </button>
          </div>
          <div class="leaderboard-container hidden">
            <span
              class="remove"
              onclick="document.querySelector('.leaderboard-container').classList.add('hidden')"
              >X</span
            >

            <h3 class="leaderboard-title">Leaderboard</h3>
            <input
              type="text"
              name="search"
              id="search-input"
              class="search-input"
              placeholder="Search"
            />

            <ul class="leaderboard-list"></ul>
          </div>
        </section>
      </main>
      <footer>
        <!-- place footer here -->
      </footer>
    </div>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>

    <!-- gtag firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-storage-compat.js"></script>
    <!-- Firebase Auth -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/firebase/10.13.1/firebase-auth-compat.min.js"
      integrity="sha512-b2PGOE6ClpdFR5WZylPqJ9NEtHyGtdXKIe5wI0qRKVg3VeH9Km8CvihpnySwf6v21TV2cMTUp/BuglUiFLB38Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script src="./assets/js/firebase-config.js" type="module"></script>
    <script src="./assets/js/result.js" type="module"></script>

    <script type="module" src="./assets/js/logged-user.js"></script>

    <script src="./assets/js/loader.js"></script>
    <script src="./assets/js/page.js"></script>
  </body>
</html>
